<!-- web/src/app/pages/admin/post-form/post-form.component.html -->
<form [formGroup]="form" (ngSubmit)="submit()" class="post-form">
  <h1>{{ postId ? 'Editar post' : 'Nuevo post' }}</h1>

  <div class="grid two">
    <label>
      <span>Título *</span>
      <input type="text" formControlName="title" placeholder="Ej. Cómo elegir tu primer seguro" />
    </label>

    <label>
      <span>Slug</span>
      <input type="text" formControlName="slug" placeholder="como-elegir-primer-seguro" />
    </label>
  </div>

  <div class="grid two">
    <label>
      <span>Tag</span>
      <input type="text" formControlName="tag" placeholder="Capacitación" />
    </label>

    <label>
      <span>Tema</span>
      <input type="text" formControlName="topic" placeholder="Guía, Estrategia…" />
    </label>
  </div>

  <div class="grid two">
    <label>
      <span>Minutos de lectura</span>
      <input type="number" min="1" formControlName="readMinutes" />
    </label>

    <label>
      <span>URL externa (opcional)</span>
      <input type="url" formControlName="externalUrl" placeholder="https://..." />
    </label>
  </div>

  <label class="block">
    <span>Contenido *</span>
    <textarea formControlName="content" rows="12" placeholder="Escribe el contenido…"></textarea>
  </label>

  <div class="grid two">
    <label class="block">
      <span>Portada</span>
      <input type="file" accept="image/*" (change)="onCoverChange($event)" />
      <div class="preview" *ngIf="coverPreview">
        <img [src]="coverPreview" alt="Preview portada" />
      </div>
    </label>

    <label class="block">
      <span>Assets (múltiples imágenes)</span>
      <input type="file" multiple accept="image/*" (change)="onAssetsChange($event)" />
      <div class="preview-list" *ngIf="assetsPreview.length">
        <img *ngFor="let src of assetsPreview" [src]="src" alt="Asset" />
      </div>
    </label>
  </div>

  <label class="check">
    <input type="checkbox" formControlName="published" />
    <span>Publicado</span>
  </label>

  <div class="actions">
    <button type="button" class="btn ghost" (click)="cancel()">Cancelar</button>
    <button type="submit" [disabled]="saving">{{ saving ? 'Guardando…' : 'Guardar' }}</button>
  </div>
</form>
