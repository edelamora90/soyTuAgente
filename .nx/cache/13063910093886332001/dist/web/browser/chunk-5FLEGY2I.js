import{a as R}from"./chunk-MUZ76X6A.js";import{b as j,d as Y,e as $,i as H}from"./chunk-6A4NGTZS.js";import{$a as a,Ka as L,Oa as m,P as z,Sb as D,Tb as B,U as x,Vb as U,Wb as V,Ya as S,Z as w,Za as p,_ as k,_a as i,ab as f,gb as I,ha as g,hb as v,jb as u,l as y,pb as F,qb as r,r as b,rb as C,sb as E,va as _,vb as q,wb as A,yb as N,za as o}from"./chunk-A5EMK4AJ.js";var P=class n{port=x(R);mapToUi(t){return{id:t.id,slug:t.slug,nombre:t.nombre,cedula:t.cedula,verificado:t.verificado,avatar:t.avatar??"",ubicacion:t.ubicacion,whatsapp:t.whatsapp??void 0,especialidades:t.especialidades??[],redes:t.redes??void 0,media:{hero:t.mediaHero??"",thumbs:t.mediaThumbs??[]},experiencia:t.experiencia??[],servicios:t.servicios??[],certificaciones:t.certificaciones??[],aseguradoras:t.aseguradoras??[]}}getBySlug(t){return y(this.port.get(t)).pipe(b(e=>this.mapToUi(e)))}search(t){let e=Math.max(1,t.page??1),s=Math.min(100,Math.max(1,t.pageSize??10)),c=(t.tipo||"").toLowerCase().trim(),l=(t.q||"").toLowerCase().trim();return y(this.port.list()).pipe(b(M=>M.map(d=>this.mapToUi(d))),b(M=>{let d=M;c&&(d=d.filter(h=>h.especialidades.some(O=>O.toLowerCase()===c))),l&&(d=d.filter(h=>h.nombre.toLowerCase().includes(l)||h.ubicacion.toLowerCase().includes(l)||h.especialidades.some(O=>O.toLowerCase().includes(l))));let J=d.length,T=(e-1)*s;return{items:d.slice(T,T+s),total:J,page:e,pageSize:s}}))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var Q=n=>["/agente",n];function W(n,t){n&1&&(i(0,"div",21),f(1,"div",22)(2,"div",22)(3,"div",22),a())}function X(n,t){n&1&&(i(0,"span",42),r(1,"\u2714"),a())}function Z(n,t){if(n&1&&f(0,"img",45),n&2){let e=t.ngIf,s=u().$implicit;p("src",e,_)("alt",s)}}function ee(n,t){if(n&1&&(i(0,"span",43),m(1,Z,1,2,"img",44),r(2),a()),n&2){let e=t.$implicit,s=u(3);o(),p("ngIf",s.iconFor(e)),o(),E(" ",e," ")}}function te(n,t){if(n&1&&(i(0,"a",48),f(1,"img",49),a()),n&2){let e=t.$implicit;p("href",e.url,_),S("aria-label",e.icon),o(),p("src",e.icon,_)}}function ne(n,t){if(n&1&&(i(0,"div",46),m(1,te,2,3,"a",47),a()),n&2){let e=u().$implicit;o(),p("ngForOf",e.redes)}}function ie(n,t){if(n&1&&(i(0,"article",25),f(1,"img",26),i(2,"div",27)(3,"div",28)(4,"h3",29),r(5),m(6,X,2,0,"span",30),a()(),i(7,"div",31)(8,"span",32),r(9),a()(),i(10,"h2",33),r(11,"Especialista en seguros:"),a(),i(12,"div",34),m(13,ee,3,2,"span",35),A(14,"slice"),a()(),i(15,"div",36),m(16,ne,2,1,"div",37),i(17,"div",38)(18,"a",39),r(19," Ver perfil de agente "),a(),i(20,"a",40),f(21,"img",41),r(22," Contactar Agente "),a()()()()),n&2){let e=t.$implicit;o(),p("src",e.avatar,_)("alt",e.nombre),o(4),E(" ",e.nombre," "),o(),p("ngIf",e.verificado),o(3),C(e.ubicacion),o(4),p("ngForOf",N(14,12,e.especialidades,0,4)),o(3),p("ngIf",e.redes==null?null:e.redes.length),o(2),p("routerLink",q(16,Q,e.slug)),o(2),F("disabled",!e.whatsapp),p("href",e.whatsapp?"https://wa.me/"+e.whatsapp:null,_),S("target",e.whatsapp?"_blank":null)}}function ae(n,t){if(n&1&&(i(0,"div",23),m(1,ie,23,18,"article",24),a()),n&2){let e=u();o(),p("ngForOf",e.items())("ngForTrackBy",e.trackBySlug)}}function re(n,t){n&1&&(i(0,"div",50)(1,"p"),r(2,"No encontramos agentes con esos filtros. Prueba cambiando el tipo o la b\xFAsqueda."),a()())}function oe(n,t){if(n&1){let e=I();i(0,"nav",51)(1,"button",52),v("click",function(){w(e);let c=u();return k(c.goPage(c.page()-1))}),r(2,"Anterior"),a(),i(3,"span"),r(4,"p\xE1gina "),i(5,"b"),r(6),a(),r(7," de "),i(8,"b"),r(9),a()(),i(10,"button",52),v("click",function(){w(e);let c=u();return k(c.goPage(c.page()+1))}),r(11,"Siguiente"),a()()}if(n&2){let e=u();o(),p("disabled",e.page()<=1),o(5),C(e.page()),o(3),C(e.totalPages()),o(),p("disabled",e.page()>=e.totalPages())}}var G=class n{route=x(j);router=x(Y);api=x(P);loading=g(!0);items=g([]);total=g(0);page=g(1);pageSize=g(10);tipo=g(null);q=g("");constructor(){this.route.queryParamMap.subscribe(t=>{this.tipo.set(t.get("tipo")),this.q.set(t.get("q")||"");let e=Number(t.get("page")||1);this.page.set(isNaN(e)?1:e),this.fetch()})}fetch(){this.loading.set(!0);let t={tipo:this.tipo()??void 0,q:this.q().trim()||void 0,page:this.page(),pageSize:this.pageSize()};this.api.search(t).subscribe(e=>{this.items.set(e.items),this.total.set(e.total),this.page.set(e.page),this.pageSize.set(e.pageSize),this.loading.set(!1)})}applyFilters(){this.router.navigate([],{relativeTo:this.route,queryParams:{tipo:this.tipo()??void 0,q:this.q().trim()||void 0,page:1},queryParamsHandling:"merge"})}goPage(t){this.router.navigate([],{relativeTo:this.route,queryParams:{page:t},queryParamsHandling:"merge"})}totalPages(){let t=this.pageSize(),e=this.total();return t>0?Math.max(1,Math.ceil(e/t)):1}trackBySlug=(t,e)=>e.slug;iconFor(t){let e=(t||"").toLowerCase().trim();return e.includes("veh\xEDculo")||e.includes("vehiculo")?"assets/icons/rep-auto.svg":e.includes("salud")||e.includes("bienestar")?"assets/icons/corazon.svg":e.includes("hogar")?"assets/icons/seguro-hogar.svg":e.includes("inversion")?"assets/icons/obtener-dinero.svg":null}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=L({type:n,selectors:[["app-agentes-list"]],decls:36,vars:6,consts:[[1,"ag-list"],[1,"container"],[1,"list-head"],[1,"muted"],[1,"grad"],[1,"lead"],[1,"filters"],[1,"field"],[3,"change","value"],["value",""],["value","vehiculos"],["value","hogar-negocio"],["value","salud-asistencia"],[1,"field","grow"],[1,"search"],["type","search","placeholder","Nombre, ciudad, palabra clave\u2026",3,"input","value"],["type","button",1,"btn-primary",3,"click"],["class","skeleton",4,"ngIf"],["class","cards",4,"ngIf"],["class","empty",4,"ngIf"],["class","pager",4,"ngIf"],[1,"skeleton"],[1,"sk-row"],[1,"cards"],["class","card",4,"ngFor","ngForOf","ngForTrackBy"],[1,"card"],[1,"avatar",3,"src","alt"],[1,"info"],[1,"title-row"],[1,"name"],["class","verified","aria-label","Verificado",4,"ngIf"],[1,"meta"],[1,"loc"],[1,"especialista"],[1,"tags"],["class","tag",4,"ngFor","ngForOf"],[1,"card-foot"],["class","social",4,"ngIf"],[1,"actions"],[1,"btn-ghost",3,"routerLink"],[1,"btn-contact",3,"href"],["src","assets/icons/whatsapp.svg","alt","",1,"icon-whatsapp"],["aria-label","Verificado",1,"verified"],[1,"tag"],[3,"src","alt",4,"ngIf"],[3,"src","alt"],[1,"social"],["class","soc","target","_blank","rel","noopener",3,"href",4,"ngFor","ngForOf"],["target","_blank","rel","noopener",1,"soc",3,"href"],["alt","",3,"src"],[1,"empty"],[1,"pager"],[3,"click","disabled"]],template:function(e,s){e&1&&(i(0,"section",0)(1,"div",1)(2,"header",2)(3,"h1"),r(4," Estos agentes son perfectos "),f(5,"br"),i(6,"span",3),r(7,"para el "),a(),i(8,"span",4),r(9,"tipo de seguro que est\xE1s buscando"),a()(),i(10,"p",5),r(11," Tu seguro ideal empieza con la persona adecuada. Explora los perfiles de agentes de seguros verificados seg\xFAn tu tipo de cobertura y contacta directamente con el que m\xE1s te guste. "),a()(),i(12,"div",6)(13,"div",7)(14,"span"),r(15,"Tipo de seguro"),a(),i(16,"select",8),v("change",function(l){return s.tipo.set(l.target.value||null),s.applyFilters()}),i(17,"option",9),r(18,"Todos"),a(),i(19,"option",10),r(20,"Veh\xEDculos"),a(),i(21,"option",11),r(22,"Hogar y Negocio"),a(),i(23,"option",12),r(24,"Salud y Asistencia"),a()()(),i(25,"div",13)(26,"span"),r(27,"Buscar"),a(),i(28,"div",14)(29,"input",15),v("input",function(l){return s.q.set(l.target.value)}),a(),i(30,"button",16),v("click",function(){return s.applyFilters()}),r(31," Buscar a mi agente "),a()()()(),m(32,W,4,0,"div",17)(33,ae,2,2,"div",18)(34,re,3,0,"div",19)(35,oe,12,4,"nav",20),a()()),e&2&&(o(16),p("value",s.tipo()??""),o(13),p("value",s.q()),o(3),p("ngIf",s.loading()),o(),p("ngIf",!s.loading()&&s.items().length),o(),p("ngIf",!s.loading()&&!s.items().length),o(),p("ngIf",s.total()>s.pageSize()))},dependencies:[V,D,B,H,$,U],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--ink: #0b2f34;--muted: #627d78;--border: #e9efec;--bg-soft: #f4f8f7;--brand: #0fb366;--brand-2: #12c27a;--card: #ffffff;--shadow: 0 6px 18px rgba(16, 24, 40, .06)}.ag-list[_ngcontent-%COMP%]{background:#fff}.ag-list[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;padding:clamp(18px,3vw,28px)}.list-head[_ngcontent-%COMP%]{margin:8px 0 18px}.list-head[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 8px;font-weight:800;color:var(--ink);font-size:clamp(28px,4.2vw,44px);line-height:1.1;letter-spacing:-.02em}.list-head[_ngcontent-%COMP%]   .muted[_ngcontent-%COMP%]{color:var(--ink);opacity:.55}.list-head[_ngcontent-%COMP%]   .grad[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--brand),var(--brand-2));-webkit-background-clip:text;background-clip:text;color:transparent;white-space:nowrap}.list-head[_ngcontent-%COMP%]   .lead[_ngcontent-%COMP%]{margin:6px 0 0;color:var(--muted);font-size:clamp(20px,1.2vw,16px);max-width:720px}.filters[_ngcontent-%COMP%]{display:grid;grid-template-columns:280px 1fr;gap:14px;margin:18px 0 12px}.filters[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:grid;gap:6px;margin-top:20px;margin-bottom:30px}.filters[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:var(--ink);font-size:20px}.filters[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:44px;border-radius:12px;border:1px solid var(--border);padding:0 12px;outline:none;background:#fff;color:var(--ink)}.filters[_ngcontent-%COMP%]   .grow[_ngcontent-%COMP%]{width:100%}.filters[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;gap:10px}.filters[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.btn-primary[_ngcontent-%COMP%]{height:44px;padding:0 18px;border-radius:999px;border:0;background:var(--brand);color:#fff;font-weight:800;cursor:pointer;box-shadow:0 6px 16px #0fb3663d;transition:background .2s ease,transform .2s ease}.btn-primary[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--brand) 85%,black);transform:translateY(-1px)}.skeleton[_ngcontent-%COMP%]{margin:12px 0 0;display:grid;gap:12px}.sk-row[_ngcontent-%COMP%]{height:92px;border-radius:16px;background:linear-gradient(90deg,#f3f7f6,#edf3f1,#f3f7f6)}.cards[_ngcontent-%COMP%]{display:grid;gap:30px}.card[_ngcontent-%COMP%]{display:grid;grid-template-columns:260px 1fr;gap:22px;align-items:start;padding:24px;border-radius:22px;border:1px solid var(--border);background:var(--card);box-shadow:var(--shadow);grid-template-areas:"avatar info" "foot   foot"}.avatar[_ngcontent-%COMP%]{grid-area:avatar;width:220px;height:220px;border-radius:50%;object-fit:cover;display:block;border:3px solid #fff;box-shadow:0 4px 14px #1018281a;justify-self:center}.info[_ngcontent-%COMP%]{grid-area:info;display:grid;gap:10px}.title-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;gap:12px;align-items:center}.name[_ngcontent-%COMP%]{margin:0;color:var(--ink);font-weight:800;font-size:clamp(22px,3vw,36px)}.verified[_ngcontent-%COMP%]{display:inline-grid;place-items:center;width:22px;height:22px;border-radius:999px;background:#e9faf2;color:var(--brand);font-size:13px;margin-left:6px}.meta[_ngcontent-%COMP%]{color:var(--muted);font-size:16px}.especialista[_ngcontent-%COMP%]{margin:10px 0 2px;color:var(--ink);font-weight:800;font-size:clamp(16px,1.6vw,22px)}.tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px}.tag[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:10px;height:38px;padding:0 16px;border-radius:999px;background:var(--bg-soft);color:var(--ink);font-weight:800;font-size:16px}.tag[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;display:block}.card-foot[_ngcontent-%COMP%]{grid-area:foot;display:flex;align-items:center;gap:12px;border-top:1px solid var(--border);padding-top:16px;margin-top:12px}.social[_ngcontent-%COMP%]{display:flex;gap:10px}.soc[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:8px;display:grid;place-items:center;border:1px solid var(--border);background:#fff;transition:transform .12s ease}.soc[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.soc[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:18px;height:18px}.actions[_ngcontent-%COMP%]{margin-left:auto;display:flex;gap:12px;flex-wrap:wrap}.btn-ghost[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;height:46px;padding:0 20px;border-radius:999px;color:var(--ink);text-decoration:none;font-weight:800;border:2px solid #5a6664;background:#fff;transition:background .2s,color .2s,transform .2s,border-color .2s}.btn-ghost[_ngcontent-%COMP%]:hover{background:#5a6664;color:#fff;transform:translateY(-1px);border-color:#5a6664}.btn-contact[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:10px;height:46px;padding:0 20px;border-radius:999px;background-color:#25d366;border:2px solid #25d366;color:#fff;text-decoration:none;font-weight:800;transition:background-color .2s,color .2s,transform .2s,border-color .2s}.btn-contact[_ngcontent-%COMP%]   .icon-whatsapp[_ngcontent-%COMP%]{width:20px;height:20px;filter:brightness(0) invert(1);transition:filter .2s}.btn-contact[_ngcontent-%COMP%]:hover:not(.disabled){background-color:#fff;color:#25d366;border-color:#25d366;transform:translateY(-1px)}.btn-contact[_ngcontent-%COMP%]:hover:not(.disabled)   .icon-whatsapp[_ngcontent-%COMP%]{filter:none}.btn-contact.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.empty[_ngcontent-%COMP%]{margin:18px 0 0;color:var(--muted)}.pager[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px;margin:16px 0 4px}.pager[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:38px;padding:0 14px;border-radius:999px;border:1px solid var(--border);background:#fff;color:var(--ink);font-weight:800;cursor:pointer;transition:background .2s,transform .2s}.pager[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background:#f3f7f6;transform:translateY(-1px)}.pager[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.pager[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--muted)}@media (max-width: 980px){.card[_ngcontent-%COMP%]{grid-template-columns:120px 1fr;gap:16px;padding:18px;border-radius:18px}.avatar[_ngcontent-%COMP%]{width:100px;height:100px}.name[_ngcontent-%COMP%]{font-size:clamp(18px,3.2vw,24px)}}@media (max-width: 720px){.card[_ngcontent-%COMP%]{grid-template-columns:72px 1fr;gap:12px;padding:14px}.avatar[_ngcontent-%COMP%]{width:72px;height:72px}.card-foot[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:10px}.actions[_ngcontent-%COMP%]{margin-left:0}}']})};export{G as ListComponent};
